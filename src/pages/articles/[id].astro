---
import { getCollection, render } from "astro:content";
import BaseLayout from "~/layouts/base.astro";
import ContentLayout from "~/layouts/content.astro";
import ArticleHeader from "./_components/article-header.astro";

export const getStaticPaths = async () => {
  const articles = await getCollection("articles");

  return articles.map((article) => ({
    params: { id: article.id },
    props: { article },
  }));
};
const { article } = Astro.props;

const { Content } = await render(article);
---

<BaseLayout>
  <ArticleHeader article={article} />
  <ContentLayout>
    <Content />
  </ContentLayout>
</BaseLayout>
